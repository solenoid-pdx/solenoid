{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Solenoid Force Calculator</title>
    <!--bootstrap-->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link
      rel="shortcut icon"
      type="image/png"
      href="{% static 'img/favicon.ico' %}"
    />

    <script
      src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
    <!--end-bootstrap-->
  </head>
  <body onload="renderPage();" style="margin-bottom: 5%">
    <div>{% include 'navbar.html' %}</div>
    <div
      id="header"
      class="container"
      style="margin-bottom: 5%; margin-top: 2%"
    >
      <h2 id="page-header" style="text-align: center">
        Solenoid Force Calculator
      </h2>
    </div>

    <div
      id="link-equation-flex-container"
      class="container d-flex p-2 bd-highlight justify-content-between"
      style="margin-top: 5%; margin-bottom: 2%"
    >
      <div
        id="link-instructions-container"
        class="d-flex p-2 bd-highlight flex-column"
        style="width: 50%"
      >
        <h5>Usage Instructions</h5>
        <div id="instructions-container">
          <ol>
            <li>
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
              eiusmod tempor incididunt
            </li>
            <li>
              ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis
              nostrud exercitation ullamco
            </li>
            <li>
              laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
              dolor in reprehenderit in voluptate
            </li>
            <li>
              velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
              occaecat cupidatat non proident, sunt in
            </li>
            <li>culpa qui officia deserunt mollit anim id est laborum.</li>
          </ol>
        </div>
      </div>
      <div
        id="equation-container"
        class="d-flex align-items-center flex-column"
        style="width: 35%; text-align: center"
      >
        <h5 style="margin-bottom: 5%">Equation Applied</h5>
        {% load static %}
        <img
          src="{% static 'img/equation_22.png' %}"
          class="img-fluid"
          alt="Calculation applied by application"
        />
        <a
          href="https://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.428.9647&rep=rep1&type=pdf"
          style="margin-top: 5%"
          target="_blank"
        >
          Additional Info and Proof
        </a>
      </div>
    </div>
    <div
      id="calc-graph-container"
      class="container d-flex justify-content-between border-bottom flex-column"
      style="margin-bottom: 5%; padding-bottom: 7%"
    >
      <div
        id="calc-container"
        class="d-flex flex-column justify-content-center"
        style="width: 60%; margin-bottom: 5%"
      >
        <!--begin data set form-->
        <button
          class="btn btn-info"
          style="margin-bottom: 5%"
          onclick="populateDefaults()"
          type="button"
          id="populate-defaults-button"
        >
          Click here for sample inputs
        </button>
        <form id="input-submit-form" method="POST" style="width: 100%">
          {% csrf_token %}
        </form>
        <!--end data set form-->
        <div
          id="flash-container"
          class="d-flex flex-column justify-content-center"
          style="width: 100%; margin-top: 2%"
        ></div>
      </div>
      <div id="graph-select" style="margin-bottom: 5">
        <p>
          <label for="x-value-range">X-Value range:</label>
          <input type="text" id="x-value-range" readonly style="border:0; color:#f6931f; font-weight:bold;">
        </p>
        <div id='slider-range'></div>
        <select
          name="x-values-input"
          id="x-values-input"
          class="custom-select"
          style="width: 15%"
        >
          <option id="x_active" value="" disabled selected>
            Select X Value
          </option>
        </select>
        <select
          name="y-values-input"
          id="y-values-input"
          class="custom-select"
          style="width: 15%"
        >
          <option id="y_active" value="" disabled selected>
            Select Y Value
          </option>
        </select>

        <button
          class="btn btn-outline-primary"
          style="margin-bottom: 0%"
          type="button"
          onclick="chartHandler()"
        >
          Graph
        </button>
      </div>
      <div id="graph-container" style="width: 100%; display: none">
        <h3>Graph</h3>

        <div>{% include 'voltageChart.html' %}</div>
      </div>
    </div>
    <div id="awg-container" class="container" style="text-align: center">
      <div id="awg-header" style="margin-bottom: 6%">
        <div
          id="awg-toggle"
          data-target="#awg-toggle-container"
          data-toggle="collapse"
          class="btn btn-outline-primary"
        >
          <h2>Wire Guage Size Chart</h2>
        </div>
      </div>
      <div id="awg-toggle-container" class="collapse" style="margin-bottom: 5%">
        <div id="awg-table-container"></div>
      </div>
    </div>
    <div style="margin-top: 5%; text-align: center"></div>
  </body>

  {% load static %}
  <script src="{% static 'js/table.js' %}" type="text/javascript"></script>
  <script
    src="{% static 'js/flashHandler.js' %}"
    type="text/javascript"
  ></script>
  <script
    src="{% static 'js/inputHandler.js' %}"
    type="text/javascript"
  ></script>
  <script
    src="{% static 'js/chartHandler.js' %}"
    type="text/javascript"
  ></script>
  <script
    src="{% static 'js/formHandler.js' %}"
    type="text/javascript"
  ></script>
  <script src="{% static 'js/main.js' %}" type="text/javascript"></script>
  <script>
    $(document).on('submit', '#input-submit-form', (form) => {
      form.preventDefault();
      formSubmitHandler();
    });
    $('#x-values-input, #y-values-input').prop('selectedIndex', 0);
    //TODO :: Add onChange to add and remove options from selectors
  </script>
</html>
